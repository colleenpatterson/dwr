import os

# this is borrowed from CFIRESIM.
marketData = {
    "1871": {
        "cpi": 12.46,
        "dividends": 0.05855856,
        "fixed_income": 0.0532,
        "gold": 0.02656043,
        "growth": 0.09459459
    },
    "1872": {
        "cpi": 12.65,
        "dividends": 0.05417695,
        "fixed_income": 0.0536,
        "gold": -0.01940492,
        "growth": 0.05144033
    },
    "1873": {
        "cpi": 12.94,
        "dividends": 0.05919765,
        "fixed_income": 0.0558,
        "gold": 0.01539138,
        "growth": -0.08806262
    },
    "1874": {
        "cpi": 12.37,
        "dividends": 0.07081545,
        "fixed_income": 0.0547,
        "gold": 0.01948896,
        "growth": -0.02575107
    },
    "1875": {
        "cpi": 11.51,
        "dividends": 0.07213656,
        "fixed_income": 0.0507,
        "gold": -0.0526763,
        "growth": -0.01762115
    },
    "1876": {
        "cpi": 10.85,
        "dividends": 0.06726457,
        "fixed_income": 0.0459,
        "gold": -0.0470852,
        "growth": -0.20403587
    },
    "1877": {
        "cpi": 10.94,
        "dividends": 0.08191549,
        "fixed_income": 0.0445,
        "gold": -0.02635294,
        "growth": -0.08450704
    },
    "1878": {
        "cpi": 9.23,
        "dividends": 0.05821538,
        "fixed_income": 0.0434,
        "gold": -0.00096665,
        "growth": 0.10153846
    },
    "1879": {
        "cpi": 8.28,
        "dividends": 0.05075419,
        "fixed_income": 0.0422,
        "gold": 0,
        "growth": 0.4273743
    },
    "1880": {
        "cpi": 9.99,
        "dividends": 0.04011742,
        "fixed_income": 0.0402,
        "gold": 0,
        "growth": 0.21135029
    },
    "1881": {
        "cpi": 9.42,
        "dividends": 0.04281099,
        "fixed_income": 0.037,
        "gold": 0,
        "growth": -0.04361874,
        "cape": 18.45
    },
    "1882": {
        "cpi": 10.18,
        "dividends": 0.05405405,
        "fixed_income": 0.0362,
        "gold": 0,
        "growth": -0.01858108,
        "cape": 15.66
    },
    "1883": {
        "cpi": 9.99,
        "dividends": 0.05521515,
        "fixed_income": 0.0363,
        "gold": 0,
        "growth": -0.10843373,
        "cape": 15.25
    },
    "1884": {
        "cpi": 9.23,
        "dividends": 0.06337838,
        "fixed_income": 0.0362,
        "gold": 0,
        "growth": -0.18146718,
        "cape": 14.41
    },
    "1885": {
        "cpi": 8.28,
        "dividends": 0.07174528,
        "fixed_income": 0.0352,
        "gold": 0,
        "growth": 0.22641509,
        "cape": 13.1
    },
    "1886": {
        "cpi": 7.99,
        "dividends": 0.04582692,
        "fixed_income": 0.0337,
        "gold": 0,
        "growth": 0.07307692,
        "cape": 16.67
    },
    "1887": {
        "cpi": 7.99,
        "dividends": 0.03987455,
        "fixed_income": 0.0352,
        "gold": 0,
        "growth": -0.0483871,
        "cape": 17.48
    },
    "1888": {
        "cpi": 8.37,
        "dividends": 0.04676083,
        "fixed_income": 0.0367,
        "gold": 0,
        "growth": -0.01318267,
        "cape": 15.33
    },
    "1889": {
        "cpi": 7.99,
        "dividends": 0.04374046,
        "fixed_income": 0.0345,
        "gold": 0,
        "growth": 0.02671756,
        "cape": 15.77
    },
    "1890": {
        "cpi": 7.61,
        "dividends": 0.04089219,
        "fixed_income": 0.0342,
        "gold": 0,
        "growth": -0.10037175,
        "cape": 17.18
    },
    "1891": {
        "cpi": 7.8,
        "dividends": 0.04545455,
        "fixed_income": 0.0362,
        "gold": 0,
        "growth": 0.13842975,
        "cape": 15.4
    },
    "1892": {
        "cpi": 7.33,
        "dividends": 0.04023593,
        "fixed_income": 0.036,
        "gold": 0,
        "growth": 0.01814882,
        "cape": 18.96
    },
    "1893": {
        "cpi": 7.9,
        "dividends": 0.04292335,
        "fixed_income": 0.0375,
        "gold": 0,
        "growth": -0.22994652,
        "cape": 17.6
    },
    "1894": {
        "cpi": 6.85,
        "dividends": 0.05710648,
        "fixed_income": 0.037,
        "gold": 0,
        "growth": -0.0162037,
        "cape": 15.7
    },
    "1895": {
        "cpi": 6.57,
        "dividends": 0.04901176,
        "fixed_income": 0.0346,
        "gold": 0,
        "growth": 0.00470588,
        "cape": 16.47
    },
    "1896": {
        "cpi": 6.66,
        "dividends": 0.04430913,
        "fixed_income": 0.036,
        "gold": 0,
        "growth": -0.0117096,
        "cape": 16.53
    },
    "1897": {
        "cpi": 6.47,
        "dividends": 0.04265403,
        "fixed_income": 0.034,
        "gold": 0,
        "growth": 0.1563981,
        "cape": 16.99
    },
    "1898": {
        "cpi": 6.66,
        "dividends": 0.03723361,
        "fixed_income": 0.0335,
        "gold": 0,
        "growth": 0.24590164,
        "cape": 19.21
    },
    "1899": {
        "cpi": 6.76,
        "dividends": 0.03302632,
        "fixed_income": 0.031,
        "gold": 0,
        "growth": 0.00328947,
        "cape": 22.87
    },
    "1900": {
        "cpi": 7.9,
        "dividends": 0.03565574,
        "fixed_income": 0.0315,
        "gold": 0,
        "growth": 0.15901639,
        "cape": 18.63
    },
    "1901": {
        "cpi": 7.71,
        "dividends": 0.04267327,
        "fixed_income": 0.031,
        "gold": 0,
        "growth": 0.14851485,
        "cape": 20.94
    },
    "1902": {
        "cpi": 7.9,
        "dividends": 0.03950739,
        "fixed_income": 0.0318,
        "gold": 0,
        "growth": 0.04187192,
        "cape": 22.3
    },
    "1903": {
        "cpi": 8.66,
        "dividends": 0.03920804,
        "fixed_income": 0.033,
        "gold": 0,
        "growth": -0.21040189,
        "cape": 20.29
    },
    "1904": {
        "cpi": 8.28,
        "dividends": 0.0519012,
        "fixed_income": 0.034,
        "gold": 0,
        "growth": 0.26197605,
        "cape": 15.84
    },
    "1905": {
        "cpi": 8.47,
        "dividends": 0.03697509,
        "fixed_income": 0.0348,
        "gold": 0,
        "growth": 0.17081851,
        "cape": 18.44
    },
    "1906": {
        "cpi": 8.47,
        "dividends": 0.03402229,
        "fixed_income": 0.0343,
        "gold": 0,
        "growth": -0.03140831,
        "cape": 20.1
    },
    "1907": {
        "cpi": 8.85,
        "dividends": 0.04218619,
        "fixed_income": 0.0367,
        "gold": 0,
        "growth": -0.2834728,
        "cape": 17.19
    },
    "1908": {
        "cpi": 8.66,
        "dividends": 0.06375182,
        "fixed_income": 0.0387,
        "gold": 0,
        "growth": 0.32262774,
        "cape": 11.89
    },
    "1909": {
        "cpi": 8.94,
        "dividends": 0.04451435,
        "fixed_income": 0.0376,
        "gold": 0,
        "growth": 0.11258278,
        "cape": 14.75
    },
    "1910": {
        "cpi": 9.9,
        "dividends": 0.04389881,
        "fixed_income": 0.0391,
        "gold": 0,
        "growth": -0.08035714,
        "cape": 14.52
    },
    "1911": {
        "cpi": 9.23,
        "dividends": 0.05070119,
        "fixed_income": 0.0398,
        "gold": 0,
        "growth": -0.01618123,
        "cape": 14.02
    },
    "1912": {
        "cpi": 9.13,
        "dividends": 0.05162281,
        "fixed_income": 0.0401,
        "gold": 0,
        "growth": 0.01973684,
        "cape": 13.78
    },
    "1913": {
        "cpi": 9.8,
        "dividends": 0.0516129,
        "fixed_income": 0.0445,
        "gold": 0,
        "growth": -0.1,
        "cape": 13.13
    },
    "1914": {
        "cpi": 10,
        "dividends": 0.0567503,
        "fixed_income": 0.0416,
        "gold": 0,
        "growth": -0.10633214,
        "cape": 11.62
    },
    "1915": {
        "cpi": 10.1,
        "dividends": 0.05625668,
        "fixed_income": 0.0424,
        "gold": 0,
        "growth": 0.2473262,
        "cape": 10.34
    },
    "1916": {
        "cpi": 10.4,
        "dividends": 0.04724544,
        "fixed_income": 0.0405,
        "gold": 0,
        "growth": 0.02572347,
        "cape": 12.53
    },
    "1917": {
        "cpi": 11.7,
        "dividends": 0.05964472,
        "fixed_income": 0.0423,
        "gold": 0,
        "growth": -0.24660397,
        "cape": 10.98
    },
    "1918": {
        "cpi": 14,
        "dividends": 0.09431345,
        "fixed_income": 0.0457,
        "gold": 0,
        "growth": 0.0887656,
        "cape": 6.63
    },
    "1919": {
        "cpi": 16.5,
        "dividends": 0.07219108,
        "fixed_income": 0.045,
        "gold": 0,
        "growth": 0.12484076,
        "cape": 6.09
    },
    "1920": {
        "cpi": 19.3,
        "dividends": 0.05983012,
        "fixed_income": 0.0497,
        "gold": 0,
        "growth": -0.19479049,
        "cape": 5.99
    },
    "1921": {
        "cpi": 19,
        "dividends": 0.07113924,
        "fixed_income": 0.0509,
        "gold": 0,
        "growth": 0.02672293,
        "cape": 5.12
    },
    "1922": {
        "cpi": 16.9,
        "dividends": 0.06358904,
        "fixed_income": 0.043,
        "gold": 0,
        "growth": 0.21917808,
        "cape": 6.28
    },
    "1923": {
        "cpi": 16.8,
        "dividends": 0.05749438,
        "fixed_income": 0.0436,
        "gold": 0,
        "growth": -0.00786517,
        "cape": 8.15
    },
    "1924": {
        "cpi": 17.3,
        "dividends": 0.06021518,
        "fixed_income": 0.0406,
        "gold": 0,
        "growth": 0.198188,
        "cape": 8.07
    },
    "1925": {
        "cpi": 17.3,
        "dividends": 0.05238185,
        "fixed_income": 0.0386,
        "gold": 0,
        "growth": 0.19565217,
        "cape": 9.69
    },
    "1926": {
        "cpi": 17.9,
        "dividends": 0.04802372,
        "fixed_income": 0.0368,
        "gold": 0,
        "growth": 0.05928854,
        "cape": 11.33
    },
    "1927": {
        "cpi": 17.5,
        "dividends": 0.05199254,
        "fixed_income": 0.0334,
        "gold": 0,
        "growth": 0.30820896,
        "cape": 13.18
    },
    "1928": {
        "cpi": 17.3,
        "dividends": 0.0443069,
        "fixed_income": 0.0333,
        "gold": 0,
        "growth": 0.41814033,
        "cape": 18.79
    },
    "1929": {
        "cpi": 17.1,
        "dividends": 0.03459372,
        "fixed_income": 0.036,
        "gold": 0,
        "growth": -0.12670957,
        "cape": 27.06
    },
    "1930": {
        "cpi": 17.1,
        "dividends": 0.04471672,
        "fixed_income": 0.0329,
        "gold": 0,
        "growth": -0.26393367,
        "cape": 22.3
    },
    "1931": {
        "cpi": 15.9,
        "dividends": 0.06049437,
        "fixed_income": 0.0334,
        "gold": 0,
        "growth": -0.48060075,
        "cape": 16.7
    },
    "1932": {
        "cpi": 14.3,
        "dividends": 0.09557831,
        "fixed_income": 0.0368,
        "gold": 0.56361877,
        "growth": -0.14578313,
        "cape": 9.31
    },
    "1933": {
        "cpi": 12.9,
        "dividends": 0.06981664,
        "fixed_income": 0.0331,
        "gold": 0.08292079,
        "growth": 0.48660085,
        "cape": 8.73
    },
    "1934": {
        "cpi": 13.2,
        "dividends": 0.04182163,
        "fixed_income": 0.0312,
        "gold": 0,
        "growth": -0.12144213,
        "cape": 13.02
    },
    "1935": {
        "cpi": 13.6,
        "dividends": 0.04859611,
        "fixed_income": 0.0279,
        "gold": 0,
        "growth": 0.48596112,
        "cape": 11.49
    },
    "1936": {
        "cpi": 13.8,
        "dividends": 0.03488372,
        "fixed_income": 0.0265,
        "gold": 0,
        "growth": 0.27834302,
        "cape": 17.08
    },
    "1937": {
        "cpi": 14.1,
        "dividends": 0.04150085,
        "fixed_income": 0.0268,
        "gold": 0,
        "growth": -0.35702103,
        "cape": 21.61
    },
    "1938": {
        "cpi": 14.2,
        "dividends": 0.07014439,
        "fixed_income": 0.0256,
        "gold": 0,
        "growth": 0.10521662,
        "cape": 13.51
    },
    "1939": {
        "cpi": 14,
        "dividends": 0.04106664,
        "fixed_income": 0.0236,
        "gold": -0.01428571,
        "growth": -0.016,
        "cape": 15.6
    },
    "1940": {
        "cpi": 13.9,
        "dividends": 0.05067748,
        "fixed_income": 0.0221,
        "gold": 0.02898551,
        "growth": -0.14227642,
        "cape": 16.37
    },
    "1941": {
        "cpi": 14.1,
        "dividends": 0.06382303,
        "fixed_income": 0.0195,
        "gold": 0,
        "growth": -0.1535545,
        "cape": 13.9
    },
    "1942": {
        "cpi": 15.7,
        "dividends": 0.07876069,
        "fixed_income": 0.0246,
        "gold": 0.02816901,
        "growth": 0.12989922,
        "cape": 10.1
    },
    "1943": {
        "cpi": 16.9,
        "dividends": 0.05847374,
        "fixed_income": 0.0247,
        "gold": -0.00684932,
        "growth": 0.17443013,
        "cape": 10.15
    },
    "1944": {
        "cpi": 17.4,
        "dividends": 0.05175806,
        "fixed_income": 0.0248,
        "gold": 0.02758621,
        "growth": 0.13839662,
        "cape": 11.05
    },
    "1945": {
        "cpi": 17.8,
        "dividends": 0.04768962,
        "fixed_income": 0.0237,
        "gold": 0.02684564,
        "growth": 0.3358043,
        "cape": 11.96
    },
    "1946": {
        "cpi": 18.2,
        "dividends": 0.03699595,
        "fixed_income": 0.0219,
        "gold": 0.12418301,
        "growth": -0.15593785,
        "cape": 15.62
    },
    "1947": {
        "cpi": 21.5,
        "dividends": 0.04689895,
        "fixed_income": 0.0225,
        "gold": -0.02325581,
        "growth": -0.02498356,
        "cape": 11.47
    },
    "1948": {
        "cpi": 23.7,
        "dividends": 0.05686669,
        "fixed_income": 0.0244,
        "gold": -0.03571429,
        "growth": 0.03573837,
        "cape": 10.42
    },
    "1949": {
        "cpi": 24,
        "dividends": 0.06163197,
        "fixed_income": 0.0231,
        "gold": -0.00617284,
        "growth": 0.09895833,
        "cape": 10.25
    },
    "1950": {
        "cpi": 23.5,
        "dividends": 0.06812796,
        "fixed_income": 0.0232,
        "gold": -0.00621118,
        "growth": 0.25651659,
        "cape": 10.75
    },
    "1951": {
        "cpi": 25.4,
        "dividends": 0.07009288,
        "fixed_income": 0.0257,
        "gold": -0.0325,
        "growth": 0.14049976,
        "cape": 11.9
    },
    "1952": {
        "cpi": 26.5,
        "dividends": 0.05842621,
        "fixed_income": 0.0268,
        "gold": -0.08268734,
        "growth": 0.0822654,
        "cape": 12.53
    },
    "1953": {
        "cpi": 26.6,
        "dividends": 0.05385791,
        "fixed_income": 0.0283,
        "gold": -0.00704225,
        "growth": -0.02750191,
        "cape": 13.01
    },
    "1954": {
        "cpi": 26.9,
        "dividends": 0.05721406,
        "fixed_income": 0.0248,
        "gold": -0.00283688,
        "growth": 0.3982718,
        "cape": 12
    },
    "1955": {
        "cpi": 26.7,
        "dividends": 0.04344579,
        "fixed_income": 0.0261,
        "gold": 0.00142248,
        "growth": 0.24016854,
        "cape": 15.99
    },
    "1956": {
        "cpi": 26.8,
        "dividends": 0.03782559,
        "fixed_income": 0.029,
        "gold": 0.00142046,
        "growth": 0.02899207,
        "cape": 18.29
    },
    "1957": {
        "cpi": 27.6,
        "dividends": 0.03822738,
        "fixed_income": 0.0346,
        "gold": 0,
        "growth": -0.09487123,
        "cape": 16.72
    },
    "1958": {
        "cpi": 28.6,
        "dividends": 0.04336892,
        "fixed_income": 0.0309,
        "gold": 0,
        "growth": 0.35262646,
        "cape": 13.79
    },
    "1959": {
        "cpi": 29,
        "dividends": 0.03158342,
        "fixed_income": 0.0402,
        "gold": 0.03546099,
        "growth": 0.04332974,
        "cape": 17.98
    },
    "1960": {
        "cpi": 29.3,
        "dividends": 0.03216733,
        "fixed_income": 0.0472,
        "gold": -0.02739726,
        "growth": 0.02912287,
        "cape": 18.34
    },
    "1961": {
        "cpi": 29.8,
        "dividends": 0.03259662,
        "fixed_income": 0.0384,
        "gold": -0.00422535,
        "growth": 0.15656397,
        "cape": 18.47
    },
    "1962": {
        "cpi": 30,
        "dividends": 0.02934226,
        "fixed_income": 0.0408,
        "gold": -0.00282885,
        "growth": -0.05805704,
        "cape": 21.2
    },
    "1963": {
        "cpi": 30.4,
        "dividends": 0.03284153,
        "fixed_income": 0.0383,
        "gold": 0.00283688,
        "growth": 0.17506917,
        "cape": 19.26
    },
    "1964": {
        "cpi": 30.9,
        "dividends": 0.03004147,
        "fixed_income": 0.0417,
        "gold": 0.00424328,
        "growth": 0.1264879,
        "cape": 21.63
    },
    "1965": {
        "cpi": 31.2,
        "dividends": 0.02922283,
        "fixed_income": 0.0419,
        "gold": -0.0028169,
        "growth": 0.08360427,
        "cape": 23.27
    },
    "1966": {
        "cpi": 31.8,
        "dividends": 0.02936134,
        "fixed_income": 0.0461,
        "gold": 0.00282486,
        "growth": -0.09504929,
        "cape": 24.06
    },
    "1967": {
        "cpi": 32.9,
        "dividends": 0.03410302,
        "fixed_income": 0.0458,
        "gold": 0.22535211,
        "growth": 0.12539964,
        "cape": 20.43
    },
    "1968": {
        "cpi": 34.1,
        "dividends": 0.03082912,
        "fixed_income": 0.0553,
        "gold": -0.05747126,
        "growth": 0.07323232,
        "cape": 21.51
    },
    "1969": {
        "cpi": 35.6,
        "dividends": 0.03019608,
        "fixed_income": 0.0604,
        "gold": -0.05121951,
        "growth": -0.11460784,
        "cape": 21.19
    },
    "1970": {
        "cpi": 37.8,
        "dividends": 0.03502746,
        "fixed_income": 0.0779,
        "gold": 0.14652956,
        "growth": 0.03521205,
        "cape": 17.09
    },
    "1971": {
        "cpi": 39.8,
        "dividends": 0.03347952,
        "fixed_income": 0.0624,
        "gold": 0.43139014,
        "growth": 0.10493101,
        "cape": 16.46
    },
    "1972": {
        "cpi": 41.1,
        "dividends": 0.02971926,
        "fixed_income": 0.0595,
        "gold": 0.6679198,
        "growth": 0.14617619,
        "cape": 17.26
    },
    "1973": {
        "cpi": 42.6,
        "dividends": 0.02666106,
        "fixed_income": 0.0646,
        "gold": 0.72586401,
        "growth": -0.18826014,
        "cape": 18.71
    },
    "1974": {
        "cpi": 46.6,
        "dividends": 0.03537613,
        "fixed_income": 0.0699,
        "gold": -0.24204168,
        "growth": -0.24503173,
        "cape": 13.53
    },
    "1975": {
        "cpi": 52.1,
        "dividends": 0.04993564,
        "fixed_income": 0.075,
        "gold": -0.03962955,
        "growth": 0.33489526,
        "cape": 8.92
    },
    "1976": {
        "cpi": 55.6,
        "dividends": 0.03802736,
        "fixed_income": 0.0774,
        "gold": 0.2043059,
        "growth": 0.0716498,
        "cape": 11.19
    },
    "1977": {
        "cpi": 58.5,
        "dividends": 0.03946696,
        "fixed_income": 0.0721,
        "gold": 0.29174426,
        "growth": -0.1305395,
        "cape": 11.44
    },
    "1978": {
        "cpi": 62.5,
        "dividends": 0.05222526,
        "fixed_income": 0.0796,
        "gold": 0.99999999,
        "growth": 0.10481994,
        "cape": 9.24
    },
    "1979": {
        "cpi": 68.3,
        "dividends": 0.05128202,
        "fixed_income": 0.091,
        "gold": 0.29607843,
        "growth": 0.11222545,
        "cape": 9.26
    },
    "1980": {
        "cpi": 77.8,
        "dividends": 0.05139766,
        "fixed_income": 0.108,
        "gold": -0.32761809,
        "growth": 0.19927863,
        "cape": 8.85
    },
    "1981": {
        "cpi": 87,
        "dividends": 0.04661654,
        "fixed_income": 0.1257,
        "gold": 0.1175,
        "growth": -0.11804511,
        "cape": 9.26
    },
    "1982": {
        "cpi": 94.3,
        "dividends": 0.05677749,
        "fixed_income": 0.1459,
        "gold": -0.14988814,
        "growth": 0.23017903,
        "cape": 7.39
    },
    "1983": {
        "cpi": 97.8,
        "dividends": 0.04770152,
        "fixed_income": 0.1046,
        "gold": -0.18947368,
        "growth": 0.15315315,
        "cape": 8.76
    },
    "1984": {
        "cpi": 101.9,
        "dividends": 0.04278846,
        "fixed_income": 0.1167,
        "gold": 0.06168831,
        "growth": 0.03125,
        "cape": 9.89
    },
    "1985": {
        "cpi": 105.5,
        "dividends": 0.04413362,
        "fixed_income": 0.1138,
        "gold": 0.19541284,
        "growth": 0.21328671,
        "cape": 10
    },
    "1986": {
        "cpi": 109.6,
        "dividends": 0.03813641,
        "fixed_income": 0.0919,
        "gold": 0.24456383,
        "growth": 0.27041306,
        "cape": 11.72
    },
    "1987": {
        "cpi": 111.2,
        "dividends": 0.03137996,
        "fixed_income": 0.0708,
        "gold": -0.15693731,
        "growth": -0.05293006,
        "cape": 14.92
    },
    "1988": {
        "cpi": 115.7,
        "dividends": 0.03535597,
        "fixed_income": 0.0867,
        "gold": -0.02230891,
        "growth": 0.13932136,
        "cape": 13.9
    },
    "1989": {
        "cpi": 121.1,
        "dividends": 0.03438448,
        "fixed_income": 0.0909,
        "gold": -0.03690773,
        "growth": 0.19120533,
        "cape": 15.09
    },
    "1990": {
        "cpi": 127.4,
        "dividends": 0.0327676,
        "fixed_income": 0.0821,
        "gold": -0.08557742,
        "growth": -0.04259199,
        "cape": 17.05
    },
    "1991": {
        "cpi": 134.6,
        "dividends": 0.03719531,
        "fixed_income": 0.0809,
        "gold": -0.05705791,
        "growth": 0.27831884,
        "cape": 15.61
    },
    "1992": {
        "cpi": 138.1,
        "dividends": 0.02941742,
        "fixed_income": 0.0703,
        "gold": 0.17642643,
        "growth": 0.0460248,
        "cape": 19.77
    },
    "1993": {
        "cpi": 142.6,
        "dividends": 0.02852124,
        "fixed_income": 0.066,
        "gold": -0.02169751,
        "growth": 0.08675873,
        "cape": 20.32
    },
    "1994": {
        "cpi": 146.2,
        "dividends": 0.0266883,
        "fixed_income": 0.0575,
        "gold": 0.00978474,
        "growth": -0.01636398,
        "cape": 21.41
    },
    "1995": {
        "cpi": 150.3,
        "dividends": 0.02832886,
        "fixed_income": 0.0778,
        "gold": -0.04651163,
        "growth": 0.32062332,
        "cape": 20.22
    },
    "1996": {
        "cpi": 154.4,
        "dividends": 0.02261206,
        "fixed_income": 0.0565,
        "gold": -0.22208672,
        "growth": 0.24706227,
        "cape": 24.76
    },
    "1997": {
        "cpi": 159.1,
        "dividends": 0.01951567,
        "fixed_income": 0.0658,
        "gold": 0.00574813,
        "growth": 0.25728903,
        "cape": 28.33
    },
    "1998": {
        "cpi": 161.6,
        "dividends": 0.01614142,
        "fixed_income": 0.0554,
        "gold": 0.0053689,
        "growth": 0.29626516,
        "cape": 32.86
    },
    "1999": {
        "cpi": 164.3,
        "dividends": 0.0130395,
        "fixed_income": 0.0472,
        "gold": -0.06063738,
        "growth": 0.14159533,
        "cape": 40.57
    },
    "2000": {
        "cpi": 168.8,
        "dividends": 0.0116256,
        "fixed_income": 0.0666,
        "gold": 0.01412067,
        "growth": -0.0631037,
        "cape": 43.77
    },
    "2001": {
        "cpi": 175.1,
        "dividends": 0.01210665,
        "fixed_income": 0.0516,
        "gold": 0.23960217,
        "growth": -0.14631298,
        "cape": 36.98
    },
    "2002": {
        "cpi": 177.1,
        "dividends": 0.01380155,
        "fixed_income": 0.0504,
        "gold": 0.21735959,
        "growth": -0.21432017,
        "cape": 30.28
    },
    "2003": {
        "cpi": 181.7,
        "dividends": 0.01799428,
        "fixed_income": 0.0405,
        "gold": 0.04397843,
        "growth": 0.26419896,
        "cape": 22.9
    },
    "2004": {
        "cpi": 185.2,
        "dividends": 0.01554056,
        "fixed_income": 0.0415,
        "gold": 0.17768595,
        "growth": 0.04316922,
        "cape": 27.66
    },
    "2005": {
        "cpi": 190.7,
        "dividends": 0.01667781,
        "fixed_income": 0.0422,
        "gold": 0.23918129,
        "growth": 0.08237614,
        "cape": 26.59
    },
    "2006": {
        "cpi": 198.3,
        "dividends": 0.0175252,
        "fixed_income": 0.0442,
        "gold": 0.31587227,
        "growth": 0.11373003,
        "cape": 26.47
    },
    "2007": {
        "cpi": 202.416,
        "dividends": 0.01761272,
        "fixed_income": 0.0476,
        "gold": 0.03974895,
        "growth": -0.03187844,
        "cape": 27.21
    },
    "2008": {
        "cpi": 211.08,
        "dividends": 0.02025008,
        "fixed_income": 0.0374,
        "gold": 0.2503593,
        "growth": -0.37220401,
        "cape": 24.02
    },
    "2009": {
        "cpi": 211.143,
        "dividends": 0.0323598,
        "fixed_income": 0.0252,
        "gold": 0.30597701,
        "growth": 0.29806604,
        "cape": 15.17
    },
    "2010": {
        "cpi": 216.687,
        "dividends": 0.01979684,
        "fixed_income": 0.0373,
        "gold": 0.07797923,
        "growth": 0.14154755,
        "cape": 20.53
    },
    "2011": {
        "cpi": 220.223,
        "dividends": 0.01790346,
        "fixed_income": 0.0339,
        "gold": 0.08687133,
        "growth": 0.01400259,
        "cape": 22.98
    },
    "2012": {
        "cpi": 226.665,
        "dividends": 0.02055749,
        "fixed_income": 0.0197,
        "gold": 0.01262019,
        "growth": 0.13826139,
        "cape": 21.21
    },
    "2013": {
        "cpi": 230.28,
        "dividends": 0.0213028,
        "fixed_income": 0.0191,
        "gold": -0.276,
        "growth": 0.22114293,
        "cape": 21.9
    },
    "2014": {
        "cpi": 233.916,
        "dividends": 0.01942536,
        "fixed_income": 0.0286,
        "gold": -0.00004,
        "growth": 0.1369433,
        "cape": 24.86
    }
}

# Keeping all the keys of this dict as strings because that way we can steal the data effortlessly from cFIREsim
# We will optimize all this later...it probably needs it if we ever do monte carlo on top of this.
def getMarketData(year):
    if int(year) > 2014 or int(year) < 1871:
        raise IndexError
    return marketData[str(year)]

def getInflation(baseYear, currentYear):
    if int(currentYear) == 1871:
        return 1.0
    # turns out these CPI numbers are january numbers for the given year, so we subtract 1
    # because thats really like december of the previous year.
    startCpi = getMarketData(baseYear - 1)["cpi"]
    endCpi = getMarketData(currentYear - 1)["cpi"]
    return 1.0 + ((endCpi - startCpi) / startCpi)

def getBondReturn(year):
    return 1.0 + getMarketData(year)["fixed_income"]

# is there another cFIREsim bug here. The dividends field is used confusingly
# to be pessimistic we will ignore it.
def getStockReturn(year):
    return 1.0 + (getMarketData(year)["growth"] + getMarketData(year)["dividends"])

def getSP500TotalReturn(year, month):
    div = getSP500Dividends(year, month)
    rate = getSP500Return(year, month)
    return div + rate - 1.0

def mapMonthStringToInt(month):
    if "jan" in month.lower():
        return 1
    elif "feb" in month.lower():
        return 2
    elif "mar" in month.lower():
        return 3
    elif "apr" in month.lower():
        return 4
    elif "may" in month.lower():
        return 5
    elif "jun" in month.lower():
        return 6
    elif "jul" in month.lower():
        return 7
    elif "aug" in month.lower():
        return 8
    elif "sep" in month.lower():
        return 9
    elif "oct" in month.lower():
        return 10
    elif "nov" in month.lower():
        return 11
    elif "dec" in month.lower():
        return 12
    else:
        raise ImportError

# going to map tuples of (year, month) to a float that is the percent increase
sp500DividendsCache = {}

def getSP500Dividends(lyear, lmonth):
    if (lyear, lmonth) not in sp500DividendsCache:
        script = os.path.dirname(__file__)
        path = os.path.join(script, "./data/sp500dividends.txt")
        f = open(path, mode="r")
        for line in f:
            split = line.split()
            month = mapMonthStringToInt(split[0])
            year = int(split[2])
            val = float(split[3].replace("%", "")) / 100.00
            sp500DividendsCache[(year, month)] = val

    return (sp500DividendsCache[(lyear, lmonth)] / 12) + 1.0


# going to map tuples of (year, month) to a float that is the percent increase
sp500ReturnsCache = {}

def getSP500Return(lyear, lmonth):
    if (lyear, lmonth) not in sp500ReturnsCache:
        value = {}
        script = os.path.dirname(__file__)
        path = os.path.join(script, "./data/sp500.txt")
        f = open(path, mode="r")
        for line in f:
            split = line.split()
            month = mapMonthStringToInt(split[0])
            year = int(split[2])
            val = float(split[3].replace(",", ""))

            # except this file tracs to the 1st of the month...
            month -= 1
            if month == 0:
                year -= 1
                month = 12

            value[(year, month)] = val

        for yearMonth in value.keys():
            pyear = yearMonth[0]
            pmonth = yearMonth[1] - 1
            if pmonth == 0:
                pyear = pyear -1
                pmonth = 12

            if (pyear, pmonth) in value:
                cur = value[yearMonth]
                prev = value[(pyear, pmonth)]
                rate = cur / prev
                sp500ReturnsCache[yearMonth] = rate
            else:
                sp500ReturnsCache[yearMonth] = 1.0

    return sp500ReturnsCache[(lyear, lmonth)]




longTermCorpBondsReturnCacne = {}

def getLongTermCorpBondsReturn(lyear, lmonth):
    if (lyear, lmonth) not in longTermCorpBondsReturnCacne:
        script = os.path.dirname(__file__)
        path = os.path.join(script, "./data/longtermcorpbonds.txt")
        f = open(path, mode="r")
        for line in f:
            if "YEAR" in line:
                continue
            split = line.split()
            year = int(split[0])
            yearRate = float(split[13]) / 10000
            yearRateCalc = 1.0
            for i in range(1, 13):
                monthRate = float(split[i]) / 10000
                yearRateCalc = yearRateCalc * (1.0 + monthRate)
                longTermCorpBondsReturnCacne[(year, i)] = monthRate

            if abs(yearRateCalc - yearRate + 1.0) < .00005:
                raise ReferenceError # what exception should I use?

    return longTermCorpBondsReturnCacne[(lyear, lmonth)] + 1.0